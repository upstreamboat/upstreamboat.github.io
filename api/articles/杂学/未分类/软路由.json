{"title":"软路由","uid":"e1fde2b6ab187d28ef20a6d8029bdfa3","slug":"杂学/未分类/软路由","date":"2024-10-26T05:48:33.715Z","updated":"2024-10-26T06:31:26.662Z","comments":true,"path":"api/articles/杂学/未分类/软路由.json","keywords":null,"cover":"/images/cover/1.png","content":"<h1 id=\"软路由\"><a href=\"#软路由\" class=\"headerlink\" title=\"软路由\"></a>软路由</h1><p><strong>定义</strong>：具备路由器功能的软件系统，可以装在电脑上模拟成路由器。</p>\n<p><strong>运用</strong>：在已有网络中，使用软路由新建一个子网。用到两个网卡，一个连接当前网络，用作外网；一个连接交换机或电脑形成子局域网，用作内网。</p>\n<p><strong>实现</strong>：这里介绍 ros、openwrt<br><a href=\"https://www.right.com.cn/forum/thread-8291702-1-1.html\">几款软路由的区别</a></p>\n<h2 id=\"RouterOS\"><a href=\"#RouterOS\" class=\"headerlink\" title=\"RouterOS\"></a>RouterOS</h2><h3 id=\"硬件中安装-ros-系统\"><a href=\"#硬件中安装-ros-系统\" class=\"headerlink\" title=\"硬件中安装 ros 系统\"></a>硬件中安装 ros 系统</h3><p>略</p>\n<h3 id=\"ros-配置图形化界面软件\"><a href=\"#ros-配置图形化界面软件\" class=\"headerlink\" title=\"ros 配置图形化界面软件\"></a>ros 配置图形化界面软件</h3><p>winbox64.exe</p>\n<p><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--RouterOS_1.png\" alt=\"Image-1\"></p>\n<h3 id=\"配置上网\"><a href=\"#配置上网\" class=\"headerlink\" title=\"配置上网\"></a>配置上网</h3><p><a href=\"https://www.cnblogs.com/zoulongbin/p/5845699.html\">配置上网教程</a></p>\n<p>对上面链接的教程进行详解<br><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--RouterOS_2.png\" alt=\"Image-2\"></p>\n<p><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--RouterOS_3.png\" alt=\"Image-3\"></p>\n<p><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--RouterOS_4.png\" alt=\"Image-4\"></p>\n<h3 id=\"配置完成后，可以查看网络连接详细日志\"><a href=\"#配置完成后，可以查看网络连接详细日志\" class=\"headerlink\" title=\"配置完成后，可以查看网络连接详细日志\"></a>配置完成后，可以查看网络连接详细日志</h3><p>配置防火墙-连接菜单；配置过滤规则<br>在日志设置的 topic 中添加 firewall</p>\n<h2 id=\"OpenWrt\"><a href=\"#OpenWrt\" class=\"headerlink\" title=\"OpenWrt\"></a>OpenWrt</h2><h3 id=\"硬件中安装-openwrt-系统\"><a href=\"#硬件中安装-openwrt-系统\" class=\"headerlink\" title=\"硬件中安装 openwrt 系统\"></a>硬件中安装 openwrt 系统</h3><ol>\n<li><p>下载 openwrt：<a href=\"https://openwrt.org/zh/downloads\">https://openwrt.org/zh/downloads</a><br><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_1.png\" alt=\"Image-1\"><br><a href=\"https://downloads.openwrt.org/releases/23.05.0/targets/x86/64/generic-ext4-combined-efi.img.gz\">经验证可用的版本</a></p>\n</li>\n<li><p>下载 etcher<br><a href=\"https://github.com/balena-io/etcher/releases\">下载地址</a><br>如果烧录出错：可能是 etcher 软件版本不对，也可能是没开管理员权限 <a href=\"https://blog.csdn.net/wdalfred/article/details/131720979\">参考</a></p>\n</li>\n<li><p>烧录成功启动电脑进入 bois，设置从 U 盘启动：在首选启动项里设置（可能）</p>\n</li>\n</ol>\n<h3 id=\"配置上网-1\"><a href=\"#配置上网-1\" class=\"headerlink\" title=\"配置上网\"></a>配置上网</h3><p><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_2.png\" alt=\"Image-2\"></p>\n<ul>\n<li><p>设置 lan：<br>   <img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_3.png\" alt=\"Image-3\"></p>\n<p>  局域网设置好后，将电脑连接到该 openwrt 路由，可设置电脑 ip 为 192.168.50.50，网关为 192.168.50.10。设置好后即可登录 192.168.50.10 进入管理界面。</p>\n<p>  注意：<br>  <img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_4.png\" alt=\"Image-4\"></p>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #292D3E\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">哪个网口是 eth0、eth1，可以插上网线后，用 ip address 命令查看</span></span></code></pre></div></blockquote>\n<ul>\n<li>设置 wan：<br>  wan 默认是 DHCP 的，可不用再设置，也可设置成静态的<br>  <img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_5.png\" alt=\"Image-5\"><br>  <a href=\"%5Bhttps://blog.csdn.net/tonyhi6/article/details/139186145%5D(https://blog.csdn.net/tonyhi6/article/details/139186145)\">静态 ip 设置</a></li>\n</ul>\n<p>_到这里就可以上网了_。</p>\n<h3 id=\"查看网络连接日志\"><a href=\"#查看网络连接日志\" class=\"headerlink\" title=\"查看网络连接日志\"></a>查看网络连接日志</h3><p><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_9.png\" alt=\"Image-9\"><br><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_10.png\" alt=\"Image-10\"></p>\n<h3 id=\"其它设置\"><a href=\"#其它设置\" class=\"headerlink\" title=\"其它设置\"></a>其它设置</h3><ol>\n<li><p>设置中文</p>\n <figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update # 如果出错，多试几次</span><br><span class=\"line\">opkg list \\| grep luci-i18n</span><br><span class=\"line\">opkg install luci-i18n-base-zh-cn</span><br></pre></td></tr></table></figure>\n<p> <code>vim /etc/config/system</code><br> <img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_6.png\" alt=\"Image-6\"></p>\n</li>\n<li><p>设置 wan 口所在的外网访问 openwrt 管理界面<br><img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_7.png\" alt=\"Image-7\"></p>\n<p> 编辑： <img src=\"/%E8%BD%AF%E8%B7%AF%E7%94%B1--OpenWrt_8.png\" alt=\"Image-8\"></p>\n</li>\n<li><p>配置网络<br><code>vim /etc/config/network</code><br>重启<br><code>/etc/init.d/network restart</code> 或 <code>service network restart</code></p>\n</li>\n<li><p>日志级别配置 # 这里日志级别不配置也不影响下面的网络连接日志<br><code>vim /etc/config/system</code></p>\n<blockquote>\n<p>option log_file ‘&#x2F;var&#x2F;log&#x2F;mylog’<br>option log_level ‘7’</p></blockquote>\n<p> 配置好后重启：<br>  <code>/etc/init.d/log restart</code><br>  <code>/etc/init.d/system restart</code></p>\n</li>\n</ol>\n","feature":true,"text":"软路由定义：具备路由器功能的软件系统，可以装在电脑上模拟成路由器。 运用：在已有网络中，使用软路由新建一个子网。用到两个网卡，一个连接当前网络，用作外网；一个连...","permalink":"/post/杂学/未分类/软路由","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"未分类","slug":"未分类","count":25,"path":"api/categories/未分类.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%BD%AF%E8%B7%AF%E7%94%B1\"><span class=\"toc-text\">软路由</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#RouterOS\"><span class=\"toc-text\">RouterOS</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%A1%AC%E4%BB%B6%E4%B8%AD%E5%AE%89%E8%A3%85-ros-%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">硬件中安装 ros 系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ros-%E9%85%8D%E7%BD%AE%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E8%BD%AF%E4%BB%B6\"><span class=\"toc-text\">ros 配置图形化界面软件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E4%B8%8A%E7%BD%91\"><span class=\"toc-text\">配置上网</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E8%AF%A6%E7%BB%86%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">配置完成后，可以查看网络连接详细日志</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#OpenWrt\"><span class=\"toc-text\">OpenWrt</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%A1%AC%E4%BB%B6%E4%B8%AD%E5%AE%89%E8%A3%85-openwrt-%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">硬件中安装 openwrt 系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E4%B8%8A%E7%BD%91-1\"><span class=\"toc-text\">配置上网</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">查看网络连接日志</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B6%E5%AE%83%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\">其它设置</span></a></li></ol></li></ol></li></ol>","author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"ip address解释","uid":"e6e1453cdfe4f5f0de0ef61a786e055f","slug":"杂学/未分类/ip address解释","date":"2024-10-26T01:18:37.602Z","updated":"2024-10-26T01:20:10.701Z","comments":true,"path":"api/articles/杂学/未分类/ip address解释.json","keywords":null,"cover":"/images/cover/1.png","text":"ip address 解释https://blog.csdn.net/weixin_41960890/article/details/104934585 ","permalink":"/post/杂学/未分类/ip address解释","photos":[],"count_time":{"symbolsCount":92,"symbolsTime":"1 mins."},"categories":[{"name":"未分类","slug":"未分类","count":25,"path":"api/categories/未分类.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"feature":true}}