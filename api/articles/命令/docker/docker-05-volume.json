{"title":"docker-05-volume","uid":"d1606efea8d5cfe2a8c493a980499133","slug":"命令/docker/docker-05-volume","date":"2024-10-12T08:41:16.500Z","updated":"2024-10-19T02:30:48.004Z","comments":true,"path":"api/articles/命令/docker/docker-05-volume.json","keywords":null,"cover":"/images/cover/7.png","content":"<h1 id=\"docker-05-volume\"><a href=\"#docker-05-volume\" class=\"headerlink\" title=\"docker-05-volume\"></a>docker-05-volume</h1><ol>\n<li><p><a href=\"https://docs.ffffee.com/docker/docker-volumes-%E4%BD%BF%E7%94%A8--mount%E5%92%8C-v%E7%9A%84%E5%8C%BA%E5%88%AB.html\">参考</a></p>\n</li>\n<li><p><a href=\"https://blog.csdn.net/qq_37960603/article/details/110135846\">参考</a></p>\n</li>\n<li><p><a href=\"https://developer.aliyun.com/article/1113502\">参考</a></p>\n</li>\n<li><p><a href=\"https://blog.csdn.net/weixin_44410358/article/details/112291517\">参考</a></p>\n</li>\n<li><p>使用方式：</p>\n<ol>\n<li>启动容器时：<code>docker run -v /A:/B</code></li>\n</ol>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>将宿主机的&#x2F;A 目录挂载到容器内的&#x2F;B 目录。如果&#x2F;B 目录下在挂载前有东西，那这些东西会消失。但&#x2F;A 中的不会。</p>\n<blockquote>\n<p>此时 A 或 B 目录都能看到 A 中的内容，并且 A 和 B 都可以修改里面的内容，内容会保持一致。</p></blockquote>\n<p>即使容器被删除，&#x2F;A 目录依然存在。</p>\n</blockquote>\n<ol start=\"2\">\n<li>Dockerfile 中：使用 volume 指令</li>\n<li>docker-compose 中：<br><code>volumes: - D:\\Doc\\DockerMounts\\redis:/data </code></li>\n</ol>\n</li>\n<li><p>挂载的必须是目录，不能是文件</p>\n</li>\n<li><p>要删除数据卷 volume，需要删除对应容器</p>\n</li>\n<li><p>数据卷两种形式：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ol>\n<li>一种是宿主机目录挂载到容器目录。例：<code>docker run -v D:\\Doc\\DockerMounts\\redis:/data</code></li>\n<li>一种是创建一个数据卷，而非宿主机目录，该数据卷是独立于宿主机的文件系统外、属于 docker 管理的（linux 位置在&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes）。例：<code>docker run -v volume_name:/data</code></li>\n</ol></blockquote>\n</li>\n</ol>\n","text":"docker-05-volume 参考 参考 参考 参考 使用方式： 启动容器时：docker run -v /A:/B 将宿主机的/A 目录挂载到容器内的/B...","permalink":"/post/命令/docker/docker-05-volume","photos":[],"count_time":{"symbolsCount":587,"symbolsTime":"1 mins."},"categories":[{"name":"命令","slug":"命令","count":15,"path":"api/categories/命令.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#docker-05-volume\"><span class=\"toc-text\">docker-05-volume</span></a></li></ol>","author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"git-01-常用命令","uid":"44054c4b24deb794b261449477fecc9c","slug":"命令/git/git-01-常用命令","date":"2024-10-12T08:41:46.479Z","updated":"2024-10-19T08:14:59.406Z","comments":true,"path":"api/articles/命令/git/git-01-常用命令.json","keywords":null,"cover":"/images/cover/7.png","text":"git-01-常用命令一、首次推送本地项目代码流程 在项目目录下，创建本地仓库： 1git init 将文件加入到本地仓库： 1git add * 或者 git...","permalink":"/post/命令/git/git-01-常用命令","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"命令","slug":"命令","count":15,"path":"api/categories/命令.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}},"next_post":{"title":"docker-04-compose","uid":"7b43371a8d59a1a9537e4018c317ac7b","slug":"命令/docker/docker-04-compose","date":"2024-10-12T08:41:16.478Z","updated":"2024-10-19T02:30:42.953Z","comments":true,"path":"api/articles/命令/docker/docker-04-compose.json","keywords":null,"cover":"/images/cover/7.png","text":"docker-04-compose 参考 1 参考 2 配置 Dockerfile 1234567891011121314151617FROM golang:a...","permalink":"/post/命令/docker/docker-04-compose","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"命令","slug":"命令","count":15,"path":"api/categories/命令.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}}}