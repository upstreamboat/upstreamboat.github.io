{"title":"库--rand","uid":"0363533ce4954d4e525c36bb03abdb08","slug":"GO语言/运用/库--rand","date":"2024-10-12T02:28:09.181Z","updated":"2024-10-19T08:25:48.926Z","comments":true,"path":"api/articles/GO语言/运用/库--rand.json","keywords":null,"cover":"/images/cover/5.png","content":"<h1 id=\"库–rand\"><a href=\"#库–rand\" class=\"headerlink\" title=\"库–rand\"></a>库–rand</h1><p>使用有种子的随机数，不可以放在循环内部，否则 1s 内产生的数是一样的</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test071903</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 有种子的随机数</span></span><br><span class=\"line\">\tr := rand.New(rand.NewSource(time.Now().Unix()))</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\">\t\tfmt.Printf(<span class=\"string\">&quot;%d &quot;</span>, r.Int31())</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Println()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 注意：这个循环生成的10个随机数是一样的</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\tr2 := rand.New(rand.NewSource(time.Now().Unix()))</span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Printf(<span class=\"string\">&quot;%d &quot;</span>, r2.Int31n(<span class=\"number\">100</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125; <span class=\"comment\">// 输出：10 10 10 10 10 10 10 10 10 10</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Println()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 注意：这个又不一样了</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\tr2 := rand.New(rand.NewSource(time.Now().Unix()))</span><br><span class=\"line\"></span><br><span class=\"line\">\ttime.Sleep(<span class=\"number\">1</span> * time.Second)</span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Printf(<span class=\"string\">&quot;%d &quot;</span>, r2.Int31n(<span class=\"number\">100</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125; <span class=\"comment\">// 输出：10 43 37 11 64 45 12 21 27 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Println()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 无种子的随机数</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Printf(<span class=\"string\">&quot;%f &quot;</span>, rand.Float32())</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 为m填充[0，255]的随机数</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tm := <span class=\"built_in\">make</span>([]<span class=\"type\">byte</span>, <span class=\"number\">5</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">\tr.Read(m)</span><br><span class=\"line\"></span><br><span class=\"line\">\tfmt.Println(m)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","text":"库–rand使用有种子的随机数，不可以放在循环内部，否则 1s 内产生的数是一样的 12345678910111213141516171819202122232...","permalink":"/post/GO语言/运用/库--rand","photos":[],"count_time":{"symbolsCount":933,"symbolsTime":"1 mins."},"categories":[{"name":"GO语言","slug":"GO语言","count":77,"path":"api/categories/GO语言.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%BA%93%E2%80%93rand\"><span class=\"toc-text\">库–rand</span></a></li></ol>","author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"库--local_cache","uid":"138178ff8fefae8d453b88a44dba3762","slug":"GO语言/运用/库--local_cache","date":"2024-10-12T02:28:09.201Z","updated":"2024-10-19T08:25:52.518Z","comments":true,"path":"api/articles/GO语言/运用/库--local_cache.json","keywords":null,"cover":"/images/cover/5.png","text":"库–local_cache12345678910111213141516171819202122232425262728293031323334353637im...","permalink":"/post/GO语言/运用/库--local_cache","photos":[],"count_time":{"symbolsCount":725,"symbolsTime":"1 mins."},"categories":[{"name":"GO语言","slug":"GO语言","count":77,"path":"api/categories/GO语言.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}},"next_post":{"title":"time.NewTicker","uid":"f96eba7199e848384d3be5daad87b13c","slug":"GO语言/运用/time.NewTicker","date":"2024-10-12T02:28:09.162Z","updated":"2024-10-19T08:25:47.391Z","comments":true,"path":"api/articles/GO语言/运用/time.NewTicker.json","keywords":null,"cover":"/images/cover/5.png","text":"time.NewTicker123456789101112131415161718192021func Test071801(t *testing.T) { t...","permalink":"/post/GO语言/运用/time.NewTicker","photos":[],"count_time":{"symbolsCount":460,"symbolsTime":"1 mins."},"categories":[{"name":"GO语言","slug":"GO语言","count":77,"path":"api/categories/GO语言.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}}}