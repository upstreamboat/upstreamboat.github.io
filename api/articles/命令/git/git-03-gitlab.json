{"title":"git-03-gitlab","uid":"d9cc7a9a859bba4487926796a7a19256","slug":"命令/git/git-03-gitlab","date":"2024-10-12T08:41:46.520Z","updated":"2024-10-19T08:15:11.488Z","comments":true,"path":"api/articles/命令/git/git-03-gitlab.json","keywords":null,"cover":"/images/cover/7.png","content":"<h1 id=\"git-03-gitlab\"><a href=\"#git-03-gitlab\" class=\"headerlink\" title=\"git-03-gitlab\"></a>git-03-gitlab</h1><ol>\n<li><p>特殊文件：<a href=\"https://zhuanlan.zhihu.com/p/413217715\">参考</a><br><code>/etc/gitlab/gitlab.rb</code><br><code>/opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml</code></p>\n</li>\n<li><p>启动 gitlab 容器：</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 8443:443 -p 8090:80 -p 8022:22 --restart always --name myGitlab -v /usr/local/gitlab/etc:/etc/gitlab -v /usr/local/log:/var/log/gitlab -v /usr/local/gitlab/data:/var/opt/gitlab --privileged=true twang2218/gitlab-ce-zh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解释：</span></span><br><span class=\"line\">docker run</span><br><span class=\"line\">-d #后台运行，全称：detach</span><br><span class=\"line\">-p 8443:443 #将容器内端口向外映射</span><br><span class=\"line\">-p 8090:80 #将容器内80端口映射至宿主机809端口，这是访问git1ab的端口</span><br><span class=\"line\">-p 8022:22 #将容器内22端口映射至宿主机，8022端口，这是访问ssh的端口</span><br><span class=\"line\">--restart always #容器自启动</span><br><span class=\"line\">--name gitlab #设置容器名称为gitlab</span><br><span class=\"line\">-v /usr/local/gitlab/etc:/etc/gitlab #将容器/etc/gitlab目录挂载到宿主机/usr/1ocal/gitlab/etc目录下，若宿主机内此目录7</span><br><span class=\"line\">-v /usr/local/gitlab/log:/var/log/gitlab #与上面一样</span><br><span class=\"line\">-v /usr/local/gitlab/data:/var/opt/gitlab #与上面一样</span><br><span class=\"line\">--privileged=true #让容器获取宿主机root权限</span><br><span class=\"line\">twang2218/gitlab-ce-zh #镜像的名称，这里也可以写镜像ID</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>进入容器： <code>docker exec -it myGitlab bash</code></p>\n</li>\n<li><p>容器内重启 gitlab：<code>gitlab-ctl restart</code></p>\n</li>\n</ol>\n","text":"git-03-gitlab 特殊文件：参考/etc/gitlab/gitlab.rb/opt/gitlab/embedded/service/gitlab-ra...","permalink":"/post/命令/git/git-03-gitlab","photos":[],"count_time":{"symbolsCount":904,"symbolsTime":"1 mins."},"categories":[{"name":"命令","slug":"命令","count":15,"path":"api/categories/命令.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#git-03-gitlab\"><span class=\"toc-text\">git-03-gitlab</span></a></li></ol>","author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"hexo使用","uid":"be29bb0db4085d04ddb5f9bb082efc87","slug":"杂学/未分类/hexo使用","date":"2024-10-12T08:45:20.282Z","updated":"2024-10-19T08:21:58.743Z","comments":true,"path":"api/articles/杂学/未分类/hexo使用.json","keywords":null,"cover":"/images/cover/1.png","text":"hexo 使用 创建 hexo 和 gitpage 使用主题 ","permalink":"/post/杂学/未分类/hexo使用","photos":[],"count_time":{"symbolsCount":32,"symbolsTime":"1 mins."},"categories":[{"name":"未分类","slug":"未分类","count":21,"path":"api/categories/未分类.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}},"next_post":{"title":"git-02-ssh地址无效","uid":"8f45e67ec22c8ab717fbba50f4923e8f","slug":"命令/git/git-02-ssh地址无效","date":"2024-10-12T08:41:46.508Z","updated":"2024-10-19T08:15:05.378Z","comments":true,"path":"api/articles/命令/git/git-02-ssh地址无效.json","keywords":null,"cover":"/images/cover/7.png","text":"git-02-ssh 地址无效https://blog.csdn.net/xb_zed/article/details/111357020 生成公、私钥：ssh...","permalink":"/post/命令/git/git-02-ssh地址无效","photos":[],"count_time":{"symbolsCount":232,"symbolsTime":"1 mins."},"categories":[{"name":"命令","slug":"命令","count":15,"path":"api/categories/命令.json"}],"tags":[{"name":"技术","slug":"技术","count":158,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon_2.jfif","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}}}