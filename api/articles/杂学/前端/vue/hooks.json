{"title":"hooks","uid":"451b8d726459bee081a2a105ec00e945","slug":"杂学/前端/vue/hooks","date":"2024-10-12T01:47:56.067Z","updated":"2024-10-19T08:18:14.202Z","comments":true,"path":"api/articles/杂学/前端/vue/hooks.json","keywords":null,"cover":"/images/cover/8.png","content":"<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// useDog.ts</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">&#x27;axios&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dogs = <span class=\"title function_\">ref</span>([<span class=\"string\">&#x27;&#x27;</span>])</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getDog</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> axios.<span class=\"title function_\">get</span>(<span class=\"string\">&#x27;https://jsonplaceholder.typicode.com/posts/&#x27;</span>)</span><br><span class=\"line\">      dogs.<span class=\"property\">value</span>.<span class=\"title function_\">push</span>(result.<span class=\"property\">data</span>.<span class=\"property\">message</span>)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">alert</span>(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;dogs, getDog&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// App.vue</span></span><br><span class=\"line\">&lt;script setup lang=<span class=\"string\">&quot;ts&quot;</span>&gt;</span><br><span class=\"line\"><span class=\"keyword\">import</span> useDog <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/hooks/useDog&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123; dogs, getDog &#125; = <span class=\"title function_\">useDog</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">getDog</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(dogs)</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n","text":"123456789101112131415161718// useDog.tsimport axios from 'axios'import { ref } f...","permalink":"/post/杂学/前端/vue/hooks","photos":[],"count_time":{"symbolsCount":659,"symbolsTime":"1 mins."},"categories":[{"name":"vue","slug":"vue","count":15,"path":"api/categories/vue.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"toc":"","author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"生命周期与钩子","uid":"dd5268e651fb95dca6972af9149bc813","slug":"杂学/前端/vue/生命周期与钩子","date":"2024-10-12T01:48:54.561Z","updated":"2024-10-19T08:18:21.463Z","comments":true,"path":"api/articles/杂学/前端/vue/生命周期与钩子.json","keywords":null,"cover":"/images/cover/8.png","text":"1234567891011onBeforeMount(()=>{})onMounted(()=>{})onBeforeUpdate(()=>{})onUpdat...","permalink":"/post/杂学/前端/vue/生命周期与钩子","photos":[],"count_time":{"symbolsCount":211,"symbolsTime":"1 mins."},"categories":[{"name":"vue","slug":"vue","count":15,"path":"api/categories/vue.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}},"next_post":{"title":"router","uid":"cf6c58cf6e0199fa915a4eb514ed86d2","slug":"杂学/前端/vue/router","date":"2024-10-12T01:39:55.170Z","updated":"2024-10-19T08:18:11.144Z","comments":true,"path":"api/articles/杂学/前端/vue/router.json","keywords":null,"cover":"/images/cover/8.png","text":"路由组件六步走 创建组件：Detail.vue 创建路由：const routes = [{},{}…] 配置路由占位： 配置路由导航：XXX 创建路由器：co...","permalink":"/post/杂学/前端/vue/router","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"vue","slug":"vue","count":15,"path":"api/categories/vue.json"}],"tags":[{"name":"技术","slug":"技术","count":168,"path":"api/tags/技术.json"}],"author":{"name":"upstreamboat","slug":"blog-author","avatar":"images/favicon/favicon.ico","link":"/","description":"nothing to say","socials":{"github":"https://github.com/upstreamboat","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/images/favicon/bilibili.svg","link":"https://www.bilibili.com/"},"chatgpt":{"icon":"/images/favicon/chatgpt.svg","link":"https://chatgpt.com/"}}}}}}